<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            width: 200px;
            height: 200px;
            background: yellow;
            float: left;
            margin: 20px;
            border: 5px solid black;
        }
        #div3{
            opacity: 0.3;
        }
    </style>
    <script src="move.js"></script>
    <script>
        window.onload = function(){
            var oDiv1 = document.getElementById('div1')

            oDiv1.onmouseover = function(){
                startMove(this, {height: 201, width: 300},function(){
                    alert('abc')
                })
            }
            oDiv1.onmouseout = function(){
                startMove(this, {height:200, width: 200})
            }

            var oDiv2 = document.getElementById('div2')

            oDiv2.onmouseover = function(){
                startMove(this, {width:400})
            }
            oDiv2.onmouseout = function(){
                startMove(this, {width:200})
            }

            var oDiv3 = document.getElementById('div3')

            oDiv3.onmouseover = function(){
                startMove(this, {width: 300}, function(){
                    startMove(oDiv3, {height:300},function(){
                        startMove(oDiv3, {opacity: 100}, null);
                    })
                });
            };
            oDiv3.onmouseout = function(){
                startMove(this, {opacity: 30})
            }
        }

        // function getStyle(obj, name){
        //     if(obj.currentStyle){
        //         return obj.currentStyle[name];
        //     }
        //     else{
        //         return getComputedStyle(obj, false)[name]
        //     }
        // }

        // function startMove(obj, attr, iTarget){
        //     clearInterval(obj.timer)
        //     obj.timer = setInterval(function(){
        //         if(attr == 'opacity'){
        //             cur = Math.round(parseFloat(getStyle(obj, attr))*100)
        //         }else{
        //             cur = parseInt(getStyle(obj, attr))
        //         }

        //         var speed = (iTarget-cur)/6
        //         speed = speed>0?Math.ceil(speed):Math.floor(speed)

        //         if(cur == iTarget){
        //             clearInterval(obj.timer)
        //         }
        //         else{
        //             if(attr=='opacity'){
        //                 // 给IE设置
        //                 obj.style.filter='alpha(opcity:'+(cur+speed)+')'
        //                 // 给chrom、火狐设置
        //                 obj.style.opacity=(cur+speed)/100
        //             }else{
        //                 obj.style[attr] = cur+speed+'px'
        //             }
        //         }
        //     }, 30)

        // }

    </script>
</head>
<body>
    <div id="div1"></div>
    <div id="div2"></div>
    <div id="div3"></div>
</body>
</html>